import pyodbc

# Replace the following placeholders with your actual credentials
server_name = "your_server_name"
database_name = "your_database_name"
domain_name = "your_domain_name"
username = "your_username"
password = "your_password"

# Construct the connection string using trusted authentication
connection_string = f"DRIVER={{SQL Server Native Client 11.0}};SERVER={server_name};DATABASE={database_name};Trusted_Connection=yes;UID={username};PWD={password}"

try:
    # Connect to the SQL Server using the connection string
    conn = pyodbc.connect(connection_string)

    # Execute a query
    cursor = conn.cursor()
    cursor.execute("SELECT * FROM your_table")

    # Fetch and print the results
    rows = cursor.fetchall()
    for row in rows:
        print(row)

except pyodbc.Error as e:
    print("Error connecting to SQL Server:", e)

finally:
    # Close the connection
    if conn:
        conn.close()
