- name: Run Python script as domain user on remote Windows PC
  hosts: windows
  tasks:
    - name: Run Python script on the target PC
      ansible.windows.win_shell: |
        python C:\path\to\your_script.py
      become: yes
      become_user: "DOMAIN\\username"
      become_method: runas
      vars:
        ansible_become_password: "your_password"
      register: output

    - name: Output the results
      debug:
        var: output.stdout
